<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <link href="output.css" rel="stylesheet">
        <title>Roomba Simulator</title>
        <script src="https://cdn.jsdelivr.net/npm/p5@1.7.0/lib/p5.js"></script>
        <script src="simulator/libraries/p5.sound.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

    </head>
    <body class="h-screen overflow-hidden">

        <div class="w-full">

            <div id="buttons" class="flex flex-wrap gap-4 bg-zinc-700 p-2 hover:shadow-2xl hover:scale-[1.005]">
                
                <div class ="my-auto">
                    <p class = "snap-center text-2xl">Roomba Simulator</p>
                </div>
                <div class="bg-gray-400 w-px mx-2"></div>

                
                <button class="text-white bg-green-500 rounded-xl p-2 mx-2 hover:scale-105 duration-100 shadow-sm hover:shadow-lg hover:opacity-90" onclick="window.parseAndValidate()">
                    <i class="fa-solid fa-check"></i>
                </button>
                <button class="text-white bg-green-500 rounded-xl p-2 mx-2 hover:scale-105 duration-100 shadow-sm hover:shadow-lg hover:opacity-90" onclick="window.execute()">
                    <i class="fa-solid fa-play"></i>
                </button>
                <button class="text-white  bg-orange-300 rounded-xl p-2 mx-2 hover:scale-105 duration-100 shadow-sm hover:shadow-lg hover:opacity-90" onclick="window.reset()">
                    <i class="fa-solid fa-rotate-right"></i>
                </button>
                <button class="text-white bg-red-400 rounded-xl p-2 mx-2 hover:scale-105 duration-100 shadow-sm hover:shadow-lg hover:opacity-90" onclick="window.clearData()">
                    <i class="fa-solid fa-trash-can"></i>
                </button>
                <button id="pauseSimu" class="text-white bg-slate-500 rounded-xl p-2 mx-2 hover:scale-105 duration-100 shadow-sm hover:shadow-lg hover:opacity-90" onclick="window.pauseSimu()">
                    <i class="fa-solid fa-pause"></i>
                </button>
                
                <div class="bg-gray-400 w-px mx-2"></div>

                <div id="speedManager" class="flex rounded-xl p-1 bg-slate-800 ml-2">
                    <p class="text-2xl m-auto pr-2">Delay</p>
                    <input type="range" id="speedSlider" min="0" max="50" value="10.0" step="0.1">
                </div>
                <div class="flex rounded-xl bg-slate-800 ml-2 pr-2 pl-2">
                    <p class="text-2xl m-auto mr-5 ">Follow</p>
                    <input type="checkbox" id="followRobot" class="scale-150 m-auto">
                </div>
            </div>
            
        </div>



        <div id="page-wrapper" class="flex flex-1 overflow-hidden p-3">
            <div id="editor" class="editor flex-none">
                <!-- Monaco Editor -->
                <div class="wrapper">
                    <div id="monaco-editor-root"></div>
                </div>
            </div>
            <button id = collapse-button type="button" class="text-white collapse-button bg-slate-800 rounded-xl p-1 ml-10 hover:scale-[1.005] duration-100 shadow-sm hover:shadow-lg hover:opacity-90 ">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <div id=canvaContainer>
                <canvas id="simulator" class="flex-1"></canvas>
            <div> 

        </div>



        <!-- Modals -->
        <!-- Error Modal -->
        <div id="errorModal" class="modal shadow-2xl">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 class = "bg-red-700">Roomba Cleaner Type checking errors</h2>
                <div id="errorList" class="modal-body text-white"></div>
            </div>
        </div>

        <!-- Validation Modal -->
        <div id="validModal" class="modal shadow-2xl">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 class = "bg-green-700">Roomba Cleaner Type checking validation</h2>
                <div class="modal-body text-white">
                    Your code is correct.
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="flex">
            <div class="block m-auto">
                <p style="font-style:italic" class="m-auto">Powered by</p>
                <img width="125" src="https://langium.org/assets/langium_logo_w_nib.svg" alt="Langium" class="m-auto">
            </div>
        </footer>

        <!-- Scripts -->
        <script type="module" src="setup.js"></script>
        <script src="simulator/wall.js"></script>
        <script src="simulator/cam.js"></script>
        <script src="simulator/block.js"></script>
        <script src="simulator/robot.js"></script>
        <script src="simulator/sketch.js"></script>
        <script src="cookies.js"></script>
    </body>
</html>
